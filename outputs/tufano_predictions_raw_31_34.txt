public V put ( @NonNull K key , @NonNull V value ) { map . put ( key , new Entry <> ( key , value , ++ time ) ) ; if ( map . size ( ) > maximumSize ) { purge ( ) ; } return value ; }
private static void setIfNotNullOrEmpty ( MongoProperties . Builder builder , MongoProp prop , String value ) { if ( value ! = null && value . trim ( ) . length ( ) > 0 ) { boolean isPassword = MongoProp . PASSWORD . equals ( prop ) ; boolean isEncrypted = value . startsWith ( Encr . PASSWORD_ENCRYPTED_PREFIX ) ; if ( isPassword && isEncrypted ) { value = Encr . decryptPasswordOptionallyEncrypted ( value ) ; } builder . set ( prop , value ) ; } }
public Mutation toMutation ( K key ) { V valueFromStorage = ( V ) valueDataConversion . fromStorage ( value ) ; byte [ ] encodedValue = valueFromStorage . toString ( ) . getBytes ( StandardCharsets . UTF_8 ) ; return new Mutations . ReadWrite <> ( encodedValue , f ) ; }
